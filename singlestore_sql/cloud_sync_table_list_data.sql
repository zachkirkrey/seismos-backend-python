use seismos ;
drop table if exists cloud_sync_table_list ;

CREATE TABLE `cloud_sync_table_list` (
  `id` bigint(10) unsigned NOT NULL AUTO_INCREMENT,
  `table_name` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `is_active` tinyint(4) NOT NULL DEFAULT 1,
  `sql_string` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  SHARD KEY `idx_SHARDKEY` (`id`),
  KEY `idx_cluster_key` (`id`) USING CLUSTERED COLUMNSTORE
) AUTO_INCREMENT=1000000 AUTOSTATS_CARDINALITY_MODE=INCREMENTAL AUTOSTATS_HISTOGRAM_MODE=CREATE AUTOSTATS_SAMPLING=ON SQL_MODE='STRICT_ALL_TABLES';


INSERT INTO `cloud_sync_table_list` (`id`, `table_name`, `is_active`, `sql_string`, `created_at`, `updated_at`)
VALUES
	(1, 'DaqSensor', 0, '', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(3, 'backside_pressure', 1, 'select bp.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w on pa.id=w.pad_id JOIN stage s on w.id = s.well_id JOIN backside_pressure bp on bp.stage_id=s.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(6, 'clean', 1, 'select cl.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w on pa.id = w.pad_id JOIN stage s on w.id = s.well_id JOIN clean cl on cl.stage_id=s.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(9, 'county_name', 1, 'select cn.* from location_info li JOIN county_name cn on cn.id=li.county_name_id JOIN job_info ji on ji.id=li.job_info_id join project p on p.id=ji.project_id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(11, 'customer_field_rep', 1, 'select cfr.* from client  cl JOIN project p on p.client_id=cl.id JOIN customer_field_rep cfr on cfr.id=cl.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(13, 'default_param_val', 1, 'select dpv.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w on pa.id=w.pad_id JOIN default_param_val dpv on dpv.well_id=w.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(14, 'default_val', 1, 'select dv.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w on pa.id=w.pad_id JOIN default_val dv on dv.well_id=w.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(16, 'ff3_parameter', 1, 'select fp.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w on pa.id = w.pad_id JOIN stage s on w.id = s.well_id JOIN ff3_parameter fp on fp.stage_id=s.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(17, 'ff3_result', 1, 'select ff.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w on pa.id = w.pad_id JOIN stage s on w.id = s.well_id JOIN ff3_result ff on ff.stage_id=s.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(18, 'ff_parameter_set', 1, '', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(19, 'ff_processing_result', 1, '', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(22, 'fluid_type_lookup', 0, '', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(23, 'formation_fluid_injection', 1, 'select ffi.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w on pa.id=w.pad_id JOIN stage s on w.id = s.well_id JOIN chem_fluids cf on cf.stage_id=s.id JOIN formation_fluid_injection ffi on ffi.chem_fluid_id=cf.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(26, 'frac_design_lookup', 0, '', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(28, 'job_info', 1, 'select ji.* from job_info ji JOIN project p on p.id=ji.job_id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(32, 'mwd_report', 1, 'select mwd.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w on pa.id=w.pad_id JOIN file_metadata fm on fm.well_id=w.id JOIN mwd_report mwd on mwd.file_metadata_id=fm.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(33, 'nf_parameter_set', 1, "select nps.* from project p JOIN pad pa ON pa.project_id=p.id JOIN well w on pa.id=w.pad_id JOIN stage s on w.id=s.well_id JOIN single_pulse_nf_result spnr on spnr.stage_id=s.id JOIN nf_parameter_set nps on nps.crew_id=spnr.crew_id where p.project_UUID=%s", '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(34, 'nf_processing_result', 1, '', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(35, 'pad', 1, 'select pa.* from project p JOIN pad pa ON pa.project_id = p.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(36, 'perforation', 1, 'select perf.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w on pa.id=w.pad_id JOIN stage s on w.id = s.well_id JOIN perforation perf on perf.stage_id=s.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(38, 'plug_name_lookup', 0, '', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(40, 'pre_frac', 1, '', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(41, 'project', 1, 'select * from project where project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(46, 'pumpdown', 1, 'select pd.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w on pa.id=w.pad_id JOIN stage s on w.id = s.well_id JOIN pumpdown pd on pd.stage_id=s.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(49, 'single_pulse_nf_result', 1, 'select spnr.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w on pa.id=w.pad_id JOIN stage s on w.id = s.well_id JOIN single_pulse_nf_result spnr on spnr.stage_id=s.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(52, 'software', 1, 'select so.* from software so JOIN project p on p.id=so.project_id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(53, 'stage', 1, 'select s.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w on pa.id = w.pad_id JOIN stage s on w.id = s.well_id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(56, 'survey_report', 1, 'select sr.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w on pa.id=w.pad_id JOIN file_metadata fm on fm.well_id=w.id JOIN survey_report sr on sr.file_metadata_id=fm.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(59, 'well', 1, 'select w.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w on pa.id=w.pad_id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(2, 'active_data', 1, 'select ad.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w on pa.id=w.pad_id JOIN stage s on w.id = s.well_id JOIN active_data ad on ad.stage_id=s.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(4, 'basin_name', 1, 'select bn.* from location_info li JOIN county_name cn on cn.id=li.county_name_id JOIN basin_name bn on bn.id=li.basin_name_id JOIN job_info ji on ji.id=li.job_info_id join project p on p.id=ji.project_id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(5, 'chem_fluids', 1, 'select cf.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w ON w.pad_id=pa.id JOIN stage s on w.id = s.well_id JOIN chem_fluids cf on cf.stage_id=s.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(7, 'client', 1, 'select c.* from project p JOIN client c on c.project_id=p.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(8, 'coil_tubing', 1, 'select ct.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w ON w.pad_id=pa.id JOIN stage s on w.id = s.well_id JOIN coil_tubing ct on ct.stage_id=s.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(10, 'crew', 1, 'select c.* from project_crew pc JOIN project p on p.id=pc.project_id JOIN crew c on c.id=pc.crew_id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(12, 'default_advance_val', 1, 'select dav.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w on pa.id=w.pad_id JOIN default_advance_val dav on dav.well_id=w.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(15, 'equipment', 1, 'select e.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w on pa.id=w.pad_id JOIN equipment e on e.id=w.equipment_id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(20, 'field_notes', 1, 'select fn.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w on pa.id=w.pad_id JOIN field_notes fn on fn.well_id=w.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(21, 'file_metadata', 1, 'select fm.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w on pa.id=w.pad_id JOIN file_metadata fm on fm.well_id=w.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(24, 'formation_top', 1, 'select ft.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w on pa.id=w.pad_id JOIN formation_top ft on ft.well_id=w.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(25, 'formation_top_reference', 1, 'select ftr.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w on pa.id=w.pad_id JOIN formation_top ft on ft.well_id=w.id JOIN formation_top_reference ftr on ftr.formation_top_id=ft.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(27, 'geophysical_properties', 1, 'select gp.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w on pa.id=w.pad_id JOIN file_metadata fm on fm.well_id=w.id JOIN geophysical_properties gp on gp.file_metadata_id=fm.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(29, 'job_type', 0, '', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(30, 'location_info', 1, 'select li.* from location_info li JOIN job_info ji on ji.id=li.job_info_id join project p on p.id=ji.project_id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(31, 'mud_log', 1, 'select ml.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w on pa.id=w.pad_id JOIN file_metadata fm on fm.well_id=w.id JOIN mud_log ml on ml.file_metadata_id=fm.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(37, 'plug_depth_unit_lookup', 0, '', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(39, 'post_frac', 1, '', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(42, 'project_crew', 1, 'select pc.* from project_crew pc JOIN project p on p.id=pc.project_id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(43, 'project_user', 1, 'select pu.* from project_user pu JOIN project p on p.id=pu.project_id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(44, 'proppant', 1, 'select pro.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w on pa.id=w.pad_id JOIN stage s on w.id = s.well_id JOIN proppant pro on pro.stage_id=s.id where  p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(45, 'proppant_lookup', 0, '', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(47, 'quality_control', 1, 'select qc.* from quality_control qc JOIN project p on p.id=qc.project_id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(48, 'result_processed', 1, 'select rp.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w on pa.id=w.pad_id JOIN result_processed rp on rp.well_id=w.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(50, 'single_pulse_parameter', 1, 'select spp.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w on pa.id=w.pad_id JOIN stage s on w.id = s.well_id JOIN single_pulse_parameter spp on spp.stage_id=s.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(51, 'slurry', 1, 'select slu.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w on pa.id=w.pad_id JOIN stage s on w.id = s.well_id JOIN slurry slu on slu.stage_id=s.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(54, 'stage_avg', 1, 'select sa.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w on pa.id=w.pad_id JOIN stage s on w.id = s.well_id JOIN stage_avg sa on sa.stage_id=s.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(55, 'state', 0, '', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(57, 'treating_pressure', 1, 'select tp.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w on pa.id=w.pad_id JOIN stage s on w.id = s.well_id JOIN treating_pressure tp on tp.stage_id=s.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(58, 'user', 1, 'select u.* from project_user pu JOIN project p on p.id=pu.project_id JOIN user u on u.id=pu.user_id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40'),
	(60, 'wireline', 1, 'select wl.* from project p JOIN pad pa ON pa.project_id = p.id JOIN well w on pa.id=w.pad_id JOIN stage s on w.id = s.well_id JOIN wireline wl on wl.stage_id=s.id where p.project_UUID =%s', '2022-03-18 19:16:40', '2022-03-18 19:16:40');
